<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="hr" xml:lang="hr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nikola N. Grubor">
<meta name="description" content="Jedini test razumevanja fenomena je da li možemo da predividimo ishod naše intervencije. Ptolomejevim geocentričnim modelom Solarnog sistema nikad ne bismo mogli da sletimo na mesec, ali Keplerovim modelom — da. Možemo li osnovnoškolskim znanjem da smislimo eksperiment i otkrijemo lokalno gravitaciono ubrzanje u Beogradu?">

<title>Nikola N. Grubor - Priče iza Podataka: Otkrivanje Gravitacije</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../icon.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Nema rezultata",
    "search-matching-documents-text": "slična dokumenta",
    "search-copy-link-title": "Kopiraj link za pretraživanje",
    "search-hide-matches-text": "Sakrij dodatne rezultate",
    "search-more-match-text": "još rezultat u ovom dokumentu",
    "search-more-matches-text": "još rezultata u ovom dokumentu",
    "search-clear-button-title": "Obriši",
    "search-detached-cancel-button-title": "Odustani",
    "search-submit-button-title": "Predaj",
    "search-label": "Pretraži"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../../styles.css">
<meta name="twitter:title" content="Nikola N. Grubor - Priče iza Podataka: Otkrivanje Gravitacije">
<meta name="twitter:description" content="Jedini test razumevanja fenomena je da li možemo da predividimo ishod naše intervencije. Ptolomejevim geocentričnim modelom Solarnog sistema nikad ne bismo mogli da sletimo na mesec, ali Keplerovim modelom — da. Možemo li osnovnoškolskim znanjem da smislimo eksperiment i otkrijemo lokalno gravitaciono ubrzanje u Beogradu?">
<meta name="twitter:image" content="https://nikola-grubor.github.io/myblog/posts/sr/gravitacija/geocenter.png">
<meta name="twitter:image-height" content="1920">
<meta name="twitter:image-width" content="1920">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Nikola N. Grubor</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Pretraži"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Prekidač navigacije" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../myblog/index.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/nikola-grubor" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/herr-grubor/" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Prekidač za tamnu temu"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Priče iza Podataka: Otkrivanje Gravitacije</h1>
                  <div>
        <div class="description">
          Jedini test razumevanja fenomena je da li možemo da predividimo ishod naše intervencije. Ptolomejevim geocentričnim modelom Solarnog sistema nikad ne bismo mogli da sletimo na mesec, ali Keplerovim modelom — da. Možemo li osnovnoškolskim znanjem da smislimo eksperiment i otkrijemo lokalno gravitaciono ubrzanje u Beogradu?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">statistika</div>
                <div class="quarto-category">srpski</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://nikola-grubor.github.io">Nikola N. Grubor</a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Objavljeno</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2/12/2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Na ovoj stranici</h2>
   
  <ul>
  <li><a href="#model-kao-prozor-u-realnost" id="toc-model-kao-prozor-u-realnost" class="nav-link active" data-scroll-target="#model-kao-prozor-u-realnost"><span class="header-section-number">1</span> Model kao prozor u realnost</a>
  <ul class="collapse">
  <li><a href="#šta-su-modeli" id="toc-šta-su-modeli" class="nav-link" data-scroll-target="#šta-su-modeli"><span class="header-section-number">1.1</span> Šta su modeli?</a></li>
  <li><a href="#ptolomej-i-geocentrični-svet" id="toc-ptolomej-i-geocentrični-svet" class="nav-link" data-scroll-target="#ptolomej-i-geocentrični-svet"><span class="header-section-number">1.2</span> Ptolomej i geocentrični svet</a></li>
  </ul></li>
  <li><a href="#primer-gravitaciono-ubrzanje-u-beogradu" id="toc-primer-gravitaciono-ubrzanje-u-beogradu" class="nav-link" data-scroll-target="#primer-gravitaciono-ubrzanje-u-beogradu"><span class="header-section-number">2</span> Primer: Gravitaciono ubrzanje u Beogradu</a>
  <ul class="collapse">
  <li><a href="#lokalno-gravitaciono-ubrzanje" id="toc-lokalno-gravitaciono-ubrzanje" class="nav-link" data-scroll-target="#lokalno-gravitaciono-ubrzanje">Lokalno gravitaciono ubrzanje</a></li>
  <li><a href="#ideja-eksperimenta" id="toc-ideja-eksperimenta" class="nav-link" data-scroll-target="#ideja-eksperimenta">Ideja eksperimenta</a></li>
  <li><a href="#proces-koji-generiše-podatke" id="toc-proces-koji-generiše-podatke" class="nav-link" data-scroll-target="#proces-koji-generiše-podatke">Proces koji generiše podatke</a></li>
  <li><a href="#odakle-dolazi-formula-gravitacije" id="toc-odakle-dolazi-formula-gravitacije" class="nav-link" data-scroll-target="#odakle-dolazi-formula-gravitacije"><span class="header-section-number">2.1</span> Odakle dolazi formula gravitacije</a></li>
  <li><a href="#otkrivanje-gravitacionog-ubrzanja" id="toc-otkrivanje-gravitacionog-ubrzanja" class="nav-link" data-scroll-target="#otkrivanje-gravitacionog-ubrzanja"><span class="header-section-number">2.2</span> Otkrivanje gravitacionog ubrzanja</a></li>
  <li><a href="#bajesov-model-gravitacionog-ubrzanja" id="toc-bajesov-model-gravitacionog-ubrzanja" class="nav-link" data-scroll-target="#bajesov-model-gravitacionog-ubrzanja"><span class="header-section-number">2.3</span> Bajesov model gravitacionog ubrzanja</a></li>
  <li><a href="#apriorna-raspodela-gravitacionog-ubrzanja" id="toc-apriorna-raspodela-gravitacionog-ubrzanja" class="nav-link" data-scroll-target="#apriorna-raspodela-gravitacionog-ubrzanja"><span class="header-section-number">2.4</span> Apriorna raspodela gravitacionog ubrzanja</a></li>
  <li><a href="#rezultati" id="toc-rezultati" class="nav-link" data-scroll-target="#rezultati"><span class="header-section-number">2.5</span> Rezultati</a></li>
  </ul></li>
  <li><a href="#zaključak" id="toc-zaključak" class="nav-link" data-scroll-target="#zaključak"><span class="header-section-number">3</span> Zaključak</a></li>
  <li><a href="#dodaci" id="toc-dodaci" class="nav-link" data-scroll-target="#dodaci"><span class="header-section-number">4</span> Dodaci</a>
  <ul class="collapse">
  <li><a href="#sec-dodatak1" id="toc-sec-dodatak1" class="nav-link" data-scroll-target="#sec-dodatak1">Dodatak 1: Izvođenje formula gravitacionog ubrzanja</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">
<style type="text/css">
.justify {
  text-align: justify !important
}
</style>
</div>
<section id="model-kao-prozor-u-realnost" class="level1 justify" data-number="1">
<h1 class="justify" data-number="1"><span class="header-section-number">1</span> Model kao prozor u realnost</h1>
<p>Na prvi pogled zakoni fizike deluju kao da su pali sa neba. Barem su meni uvek tako delovali. Formule i njihove posledice deluju kao da su izvedene iz nekih aksioma. Gde aksiomi treba da predstavljaju apsolutnu istinu. Gravitacija je neizbežna posledica Njutnovog zakona gravitacije, i ma koliko mi zeleli da skočimo u vis i vinemo se u daljine, to jednostavno nije moguće. Međutim, početna tačka fizike nisu aksiomi (apsolutne istine), već postulati. Već po imenu vidimo da oni ne nose istu težinu kao aksiomi. Postulat vodi svoj koren od latinskog <em>postulare</em> što bi u bukvalnom prevodu značilo <em>upit</em>. Postulati pretpostavljaju postojanje nečega, ne tvrde apsolutno kao aksiomi. Zbog čega postoji ova razlika?</p>
<p>Uz kreativnost i upornost, naučnici (ili prirodni filozofi kao što su se nekad zvali) su uspeli da opišu ponašanje prirode matematičkim formulama. Svi ovi opisi su u stvari posledice opservacija. Kako sve opservacije potiču iz empirije (iskustva), podložne su određenoj distorziji (iskrivljenju) realnosti — konkretno kao posledica merenja.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Kada je Galileo upotrebio prvi teleskop i ugledao Saturnove prstenove, video je mutnu brljotinu, poput kratkovidog čoveka bez naočara (<a href="#fig-saturn">Figura&nbsp;1 (a)</a>) <span class="citation" data-cites="vanhelden1984">(<a href="#ref-vanhelden1984" role="doc-biblioref">Helden, 1984</a>)</span>. Ta iskrivljena slika realnosti se javlja ma koliko precizan instrument koristili. Čovek je kao zlatna ribica u akvarijumu, osuđen da gleda izmenjenu sliku sveta (<a href="#fig-fish">Figura&nbsp;1 (b)</a>).</p>
<div id="fig-models" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div id="fig-saturn" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="saturn.jpeg" class="img-fluid figure-img" data-ref-parent="fig-models"></p>
<figcaption class="figure-caption">(a) Galileovi crteži Saturna.</figcaption>
</figure>
</div>
<div id="fig-fish" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="fish.jpg" class="img-fluid figure-img" data-ref-parent="fig-models"></p>
<figcaption class="figure-caption">(b) Zlatna ribica tumači svet gledajući ga kroz staklo.</figcaption>
</figure>
</div>
<figcaption class="figure-caption">Figura&nbsp;1: Analogije modela sveta</figcaption>
</figure>
</div>
<section id="šta-su-modeli" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="šta-su-modeli"><span class="header-section-number">1.1</span> Šta su modeli?</h2>
<blockquote class="blockquote">
<p>Svaki model je pogrešan, ali neki su korisni. — George Box</p>
</blockquote>
<p>Modeli su idealizovane reprezentacije pravog sveta. Korisni su upravo zato što su pojednostavljeni. Svaka simulacija koncentracija lekova u plazmi uključuje u model velike telesne kompartmane (plazmu, masno tkivo, itd.) kao i činjenicu da sve oralno unete supstance prvo prolaze kroz jetru. Takav model je koristan i bez dodatnog komplikovanja činjenicom da su svi ti procesi pod kontrolom DNK i posledično, velike količine gena. Naravno, onog momenta kada otkrijemo da neka genetska varijanta čini pacijenta osetljivim na lek, postaje korisno uključiti je u model <span class="citation" data-cites="kokko2007">(<a href="#ref-kokko2007" role="doc-biblioref">Kokko, 2007</a>)</span>. Modeli ne ispituju prirodu već naše razmišljanje. Prirodu ispituju eksperimenti. Ponekad možemo iskoristiti i opservacije ako nam je razmišljanje dobro kako bi zaključili nešto o realnosti <span class="citation" data-cites="n.grubor2023">(<a href="#ref-n.grubor2023" role="doc-biblioref">N. Grubor, 2023a</a>)</span>. Modeli ja alatke koji koristimo kao pomoć pri odgovaranju na naučna pitanja.</p>
</section>
<section id="ptolomej-i-geocentrični-svet" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="ptolomej-i-geocentrični-svet"><span class="header-section-number">1.2</span> Ptolomej i geocentrični svet</h2>
<p>Klaudije Ptolomej je bio Helenistički astronom i polimat. Njegovo dostignuće je formalizacija geocentričnog modela kretanja planeta tokom 2. veka nove ere. Ptolomejev sistem orbita planeta zahtevao je neke neobične premise, poput kružnih orbita na još kruznih orbita. Takođe, planeta Zemlja nije mogla biti tačno u centru, već malo izmeštena. Uprkos ovim čudnim pretpostavkama, ovaj model je davao precizna predviđanja kretanja planeta za tada dostupne metode posmatranja. Ptolomejev model Solarnog sistema će biti dominantan sledećih 1000 godina <span class="citation" data-cites="ptolemai2023">(<a href="#ref-ptolemai2023" role="doc-biblioref"><em>Ptolemaic System | Definition &amp; Facts | Britannica</em>, 2023</a>)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="geocenter.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption">Epiciklusi Ptolomejevog modela</figcaption>
</figure>
</div>
<p>Međutim, predviđanja nisu sve. U eri mašinskog učenja, gde smo u stanju da napravimo modele koji predviđaju jako dobro ali nemaju nikakvu eksplanatornu vrednost, ova stavka je bitnija nego ikad <span class="citation" data-cites="hernán2018 scholz2022">(<a href="#ref-hernán2018" role="doc-biblioref">Hernán, 2018</a>; <a href="#ref-scholz2022" role="doc-biblioref">Scholz &amp; Bürkner, 2022</a>)</span>. Ptolomejev model, i ako dobar u predviđanju, ne bi mogao da nam pomogne da sletimo na mesec (ili pošaljemo istraživačku letelicu na Mars) jer ne predstavlja realnost.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</section>
</section>
<section id="primer-gravitaciono-ubrzanje-u-beogradu" class="level1 justify" data-number="2">
<h1 class="justify" data-number="2"><span class="header-section-number">2</span> Primer: Gravitaciono ubrzanje u Beogradu</h1>
<section id="lokalno-gravitaciono-ubrzanje" class="level3">
<h3 class="anchored" data-anchor-id="lokalno-gravitaciono-ubrzanje">Lokalno gravitaciono ubrzanje</h3>
<p>Stvari koje imaju masu utiču na okolinu preko gravitacionog polja. Što je veća masa to je jača sila privlačenja koja deluje između dva tela. Kako naša planeta nije savršena sfera, privlačna sila neće svuda na Zemlji biti ista. Odradićemo mali eksperiment da pokušamo da je odredimo.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
</section>
<section id="ideja-eksperimenta" class="level3">
<h3 class="anchored" data-anchor-id="ideja-eksperimenta">Ideja eksperimenta</h3>
<p>Sve što je potrebno je:</p>
<ul>
<li>neka stvar koju ćemo puštati da padne više puta</li>
<li>štoperica</li>
<li>metar</li>
</ul>
<p>Našao sam najobičniju tenisku lopticu, mada može bilo šta izdržljivo da posluži. Zatim sam izmerio četiri različite visine u stanu i puštao loptu da pada sa različitih visina dok mi nije dosadilo, mereći vreme do udara o pod štopericom. Više podataka je uvek bolje — napravio sam 51 opservaciju.</p>
</section>
<section id="proces-koji-generiše-podatke" class="level3">
<h3 class="anchored" data-anchor-id="proces-koji-generiše-podatke">Proces koji generiše podatke</h3>
<p>Interesantno je da se u ovom procesu padanja tela na pod krije informacija o tome koliko jako deluje gravitacija na našoj planeti. Bilo koji proces koji stvara podatke nazivamo “procesom koji generiše podatke” (engl. <em>data generating process</em>). Informacija o gravitacionom ubrzanju je skrivena u nekom odnosu vremena i visine. Jedini način da smisleno povežemo ove dve vrednosti je ako prvo imamo razumnu teoriju. To nas vraća u osnovnu školu.</p>
</section>
<section id="odakle-dolazi-formula-gravitacije" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="odakle-dolazi-formula-gravitacije"><span class="header-section-number">2.1</span> Odakle dolazi formula gravitacije</h2>
<p>U osnovnoj školi smo naučili da telo u da se visina tela u slobodnom padu može izraziti sa (detaljnije izvedeno u <a href="#sec-dodatak1">Dodatak 1</a>):</p>
<p><span class="math display">\[
h = \frac{1}{2}gt^2
\]</span> Kako bismo otkrili kakvo je gravitaciono ubrzanje možemo odraditi eksperiment. Bacanje obične loptice sa poznate visine <span class="math inline">\(h\)</span> i merenje vremena pada <span class="math inline">\(t\)</span> nas ostavlja sa jednom nepoznatom: <span class="math inline">\(g\)</span>. Ako pravimo model procesa opšte forme <span class="math inline">\(y = f(x)\)</span>, odnos možemo izraziti formulom:</p>
<p><span class="math display">\[
t_i = \sqrt\frac{2h_k}{g}, \; \text{za i-to bacanje loptice, i k-tu visinu.}
\]</span></p>
<p>Sada možemo prikupiti podatke.</p>
</section>
<section id="otkrivanje-gravitacionog-ubrzanja" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="otkrivanje-gravitacionog-ubrzanja"><span class="header-section-number">2.2</span> Otkrivanje gravitacionog ubrzanja</h2>
<p>U nadi da ce se u mojim podacima pronaći informacija o gravitacionom ubrzanju, napravio sam 51 opservaciju vremena potrebnog za slobodan pad sa 4 različite visine. Rezultujući podaci su dati u <a href="#tbl-data">Tabela&nbsp;1</a>. Nelinaran odnos je grafički prikazan na <a href="#fig-datagraph">Figura&nbsp;2</a></p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-data" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabela&nbsp;1: Prikazano je prvih 5 redova podataka iz eksperimenta.</caption>
<thead>
<tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">vreme_s</th>
<th style="text-align: right;">visina_m</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.74</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.74</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">0.74</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">0.74</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.74</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-datagraph" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-datagraph-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figura&nbsp;2: Grafički prikaz podataka iz eksperimenta slobodnog pada loptice.</figcaption>
</figure>
</div>
</div>
</div>
<p>Merenja nisu najkvalitetnija. Plato koji se javlja za najviše visine je verovatno artefakt neke vrste (greške u merenju usled uticaja refleksa, uticaj otpora vazduha, tehnika ispuštanja loptice, itd.). Nastavićemo primer sa ovim podacima, možda se iznenadimo rezultatom.</p>
</section>
<section id="bajesov-model-gravitacionog-ubrzanja" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="bajesov-model-gravitacionog-ubrzanja"><span class="header-section-number">2.3</span> Bajesov model gravitacionog ubrzanja</h2>
<p>Neću ovde ulaziti u razlike između fekventističkih i Bajesovskih modela. Sve što nam je potrebno da bi nastavili dalje je da definišemo apriornu raspodelu gravitacionog ubrzanja <span class="math inline">\(g\)</span> za Beograd. Bajesov pristup ocenjivanja parametara zahteva od nas da jasno kažemo kakve vrednosti su moguće za <span class="math inline">\(g\)</span>.</p>
<!-- $$ -->
<!-- t_i = \sqrt\frac{2h_k}{g} -->
<!-- $$ $$ -->
<!-- g \sim Normal(10, 3) -->
<!-- $$ $$ -->
<!-- \sigma \sim Exponential(1) -->
<!-- $$  -->
<!-- $$ -->
<!-- \gamma \sim Exponential(1) -->
<!-- $$ -->
</section>
<section id="apriorna-raspodela-gravitacionog-ubrzanja" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="apriorna-raspodela-gravitacionog-ubrzanja"><span class="header-section-number">2.4</span> Apriorna raspodela gravitacionog ubrzanja</h2>
<p>Biranje apriorne raspodele je naučno-istraživačko pitanje i zavisi od ekspertize, tj. poznavanja domena koji se ispituje.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> U ovom slučaju, naše pretpostavke o brzini kojom stvari padaju dolaze iz iskustva — gledali smo mnogo stvari kako padaju. Deluje mi da stvari nece ubrzavati više od 20 m/s (72 km/h) svake sekunde, a znam da verovatno gravitaciono ubrzanje nije blizu 0. Sasvim sigurno je da negativni brojevi nisu mogući. Zbog toga biram normalnu distribuciju centriranu na 10. Apriorna raspodela mogućih vrednosti za <span class="math inline">\(g\)</span> je prikazana na <a href="#fig-prior">Figura&nbsp;3</a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-prior" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-prior-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figura&nbsp;3: Apriorna raspodela očekivanih vrednosti gravitacionog ubrzanja.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="rezultati" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="rezultati"><span class="header-section-number">2.5</span> Rezultati</h2>
<p>Iskreno, nisam očekivao da ću sa samo 51 opservacijom (i to poprilično traljavim) moći ovako dobro da odredim gravitaciono ubrzanje. Procena parametra <span class="math inline">\(g\)</span> je data u <a href="#tbl-fixedef">Tabela&nbsp;2</a> pod nazivom <code>g_Intercept</code>. Možemo da uporediti naš rezultat (<span class="math inline">\(\hat g = 9.808 \; m/s^2\)</span>) sa procenom Formule za Internacionalnu Procenu Gravitacije <span class="citation" data-cites="theoreti2023">(<a href="#ref-theoreti2023" role="doc-biblioref"><em>Theoretical Gravity</em>, 2023</a>)</span> koja procenjuje vrednost lokalnog gravitacionog ubrzanja u Beogradu na <span class="math inline">\(g = 9.806 \; m/s^2\)</span>. Iznenađujuće, rezultat uopšte nije loš!</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-fixedef" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabela&nbsp;2: Rezultat modela. <code>Estimate</code> je najbolja procena parametra. <code>Q2.5</code> i <code>Q97.5</code> su kvantili.</caption>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Estimate</th>
<th style="text-align: right;">Est.Error</th>
<th style="text-align: right;">Q2.5</th>
<th style="text-align: right;">Q97.5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">g_Intercept</td>
<td style="text-align: right;">9.807979</td>
<td style="text-align: right;">0.74607</td>
<td style="text-align: right;">8.32866</td>
<td style="text-align: right;">11.37652</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Posteriorna distribucija je prikazana grafički na <a href="#fig-update">Figura&nbsp;4</a>. Parametar je dosta nesiguran (širina aposteriorne distribucije) ali je većina verovatnoće koncentrisana oko tačne vrednosti. Kada je model video podatke dodelio je parametaru <span class="math inline">\(g\)</span> vrednosti koje su konzistentne sa podacima iz našeg malog eksperimenta.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-update" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-update-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figura&nbsp;4: Odnos apriorne i aposteriorne distribucije.</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="zaključak" class="level1 justify" data-number="3">
<h1 class="justify" data-number="3"><span class="header-section-number">3</span> Zaključak</h1>
<p>Ovo je u suštini bio pregled naučnog pristupa. Saznali smo sta su modeli i koji su njihovi ciljevi. Definisali smo istraživačko pitanje i šta je proces koji generiše podatke. Zatim smo iskoristili znanje o gravitaciji iz osnovne škole kako bi znali kakav eksperiment treba da konstruišemo. Naš eksperiment je napravio mogućnost da se ispolji proces koji generiše podatke. Zatim smo taj proces ispitali kako bi procenili kakvo je lokalno gravitaciono ubrzanje.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Rezime
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Naučni modeli su prozor u funkcionisanje sveta</li>
<li>Predviđanje i razumevanje su dva različita cilja</li>
<li>Prirodni fenomeni su procesi koji generišu podatke</li>
<li>Potrebna nam je teorija pre nego što započnemo ispitivanje</li>
<li>Procesi koji generišu podatke kriju informacije o svetu</li>
</ul>
</div>
</div>
</section>
<section id="dodaci" class="level1 justify" data-number="4">
<h1 class="justify" data-number="4"><span class="header-section-number">4</span> Dodaci</h1>
<section id="sec-dodatak1" class="level3">
<h3 class="anchored" data-anchor-id="sec-dodatak1">Dodatak 1: Izvođenje formula gravitacionog ubrzanja</h3>
<p>Pređeni put <span class="math inline">\(s\)</span> je jednak proizvodu srednje brzine <span class="math inline">\(\bar v\)</span> i vremenu <span class="math inline">\(t\)</span> tokom kog se telo kretalo tom brzinom.</p>
<p><span class="math display">\[
s = \bar v t
\]</span></p>
<p>Srednja brzina <span class="math inline">\(\bar v\)</span>, tokom ravnomernog kretanja je jednaka <span class="math inline">\(\frac{\Delta v}{\Delta t}\)</span>. Tako da:</p>
<p><span class="math display">\[
s = \frac{v_0 + v}{2}t
\]</span></p>
<p>Ako predstavimo gravitacionu ubrzanje <span class="math inline">\(g\)</span> kao promenu brzine <span class="math inline">\(v\)</span> u jedinici vremena <span class="math inline">\(t\)</span>, onda je:</p>
<p><span class="math display">\[
g = \frac{\Delta v}{\Delta t}
\]</span> Ako je telo krenulo da pada iz mirovanja onda mozemo da zanemarimo <span class="math inline">\(v_0\)</span> u obe jednačine. Takođe, ako nas interesuje <span class="math inline">\(g\)</span> u jediničnom vremenu (tj. trenutku) mozemo da zanemarimo i početno vreme <span class="math inline">\(t_0\)</span>. Tako je onda:</p>
<p><span class="math display">\[
s = \frac{\not v_0 + v}{2}t \rightarrow s = \frac{v}{2}t
\]</span> <span class="math display">\[
g = \frac{\Delta v}{\Delta t} = \frac{v - \not v_0}{t - \not t_0} \rightarrow
g = \frac{v}{t} \rightarrow v = gt
\]</span> Kako bi dobili jednačinu slobodnog pada sa visine <span class="math inline">\(h\)</span>:</p>
<p><span class="math display">\[
h = \frac{gt}{2}t = \frac{gt^2}{2}
\]</span> Pošto nas zanima nepoznato gravitaciono ubrazanje <span class="math inline">\(g\)</span>, možemo ga izraziti preko vremena kao:</p>
<p><span class="math display">\[
t = \sqrt\frac{2h}{g}
\]</span></p>
<p>Ovaj izraz je odgovarajuć jer će naša zavisna varijabla <span class="math inline">\(y\)</span> biti jednaka svakoj realizaciji eksperimenta <span class="math inline">\(t_i\)</span>, gde je svaki pad <span class="math inline">\(i\)</span> lopte imao svoje izmereno vreme <span class="math inline">\(t\)</span> pada. Nezavisne varijable visina <span class="math inline">\(h\)</span> i gravitaciono ubrzanje <span class="math inline">\(g\)</span> su eksplanatorne.</p>



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">Reference</h2><div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="list">
<div id="ref-vanhelden1984" class="csl-entry" role="listitem">
Helden, A. van. (1984). Saturn through the telescope-A brief historical survey. <em>Saturn</em>, 2343.
</div>
<div id="ref-hernán2018" class="csl-entry" role="listitem">
Hernán, M. A. (2018). The C-Word: Scientific Euphemisms Do Not Improve Causal Inference From Observational Data. <em>American Journal of Public Health</em>, <em>108</em>(5), 616–619. <a href="https://doi.org/10.2105/AJPH.2018.304337">https://doi.org/10.2105/AJPH.2018.304337</a>
</div>
<div id="ref-kokko2007" class="csl-entry" role="listitem">
Kokko, H. (2007). <em>Modelling for Field Biologists and Other Interesting People</em> (Illustrated edition). Cambridge University Press.
</div>
<div id="ref-n.grubor2023" class="csl-entry" role="listitem">
N. Grubor, N. (2023a). <em>Kauzalno zaklju<span>č</span>ivanje je mogu<span>ć</span>e iz opservacionih studija</em>. <a href="https://nikola-grubor.github.io/myblog/posts/sr/kauzalno-zakljucivanje">https://nikola-grubor.github.io/myblog/posts/sr/kauzalno-zakljucivanje</a>
</div>
<div id="ref-n.grubor2023a" class="csl-entry" role="listitem">
N. Grubor, N. (2023b). <em>Klini<span>č</span>ki rezon je kocka</em>. <a href="https://nikola-grubor.github.io/myblog/posts/sr/med-dg">https://nikola-grubor.github.io/myblog/posts/sr/med-dg</a>
</div>
<div id="ref-ptolemai2023" class="csl-entry" role="listitem">
<em>Ptolemaic system | Definition &amp; Facts | Britannica</em>. (2023). <a href="https://www.britannica.com/science/Ptolemaic-system">https://www.britannica.com/science/Ptolemaic-system</a>
</div>
<div id="ref-scholz2022" class="csl-entry" role="listitem">
Scholz, M., &amp; Bürkner, P.-C. (2022). <em>Prediction can be safely used as a proxy for explanation in causally consistent Bayesian generalized linear models</em>. <a href="https://arxiv.org/abs/2210.06927v3">https://arxiv.org/abs/2210.06927v3</a>
</div>
<div id="ref-theoreti2023" class="csl-entry" role="listitem">
<em>Theoretical gravity</em>. (2023). <a href="https://en.wikipedia.org/w/index.php?title=Theoretical_gravity&amp;oldid=1185162983#International_gravity_formula_1980">https://en.wikipedia.org/w/index.php?title=Theoretical_gravity&amp;oldid=1185162983#International_gravity_formula_1980</a>
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fusnota</h2>

<ol>
<li id="fn1"><p>Možda deluje da kao da tvrdim da su opservacije nekako inferiorni oblik saznanja. Naprotiv, eksperimenti i opservacije su preko potrebni ljudskom saznanju. Čovekov mozak ume veoma lako da se prevari — da umisli veze tamo gde one ne postoje. Eksperimenti nam omogućavaju da proverimo naše teorije. I često, ako se rezultati ne poklapaju, možemo da unapredimo naše ideje.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>U industriji je često predikcija cilj sam po sebi (npr. koji tip osobe će kliknuti na reklamu koja mu je servirana). Međutim, istraživači bi trebalo da teže nekom razumevanju sveta. Tu je onda cilj objašnjenje koju pružaju kauzalni modeli. Kada imamo kauzalni model, onda možemo da planiramo intervencije, tj. šta će se desiti ako utičemo na sistem. Oba cilja su korisna, sve zavisi od konteksta.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Sumnjam da ćemo imati dovoljno podataka da precizno odredimo lokalnu gravitacionu konstatnu, ali barem možemo da otkrijemo koliko precizni možemo da budemo.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Apriorna raspodela i njena uloga u medicinskom zaključivanju su detaljnije opisani u <span class="citation" data-cites="n.grubor2023a">N. Grubor (<a href="#ref-n.grubor2023a" role="doc-biblioref">2023b</a>)</span>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Navođenje</h2><div><div class="quarto-appendix-secondary-label">BibTeX navođenje:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{n. grubor2023,
  author = {N. Grubor, Nikola},
  title = {Priče iza Podataka: Otkrivanje Gravitacije},
  date = {2023-12-02},
  url = {https://nikola-grubor.github.io/myblog/posts/sr/gravitacija},
  langid = {sr-Latn}
}
</code><button title="Kopiraj" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">Za pripisivanje autoru, molimo navedite ovaj rad sa:</div><div id="ref-n. grubor2023" class="csl-entry quarto-appendix-citeas" role="listitem">
N. Grubor, N. (2023, December 2). <em>Priče iza Podataka: Otkrivanje
Gravitacije</em>. <a href="https://nikola-grubor.github.io/myblog/posts/sr/gravitacija">https://nikola-grubor.github.io/myblog/posts/sr/gravitacija</a>
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopirano!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopirano!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>